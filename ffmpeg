ffprobe -select_streams v -show_entries packet=size:stream=duration -of compact=p=0:nk=1 video.mp4

ffprobe -v error -show_format -show_streams

gnome player
gst-launch-1.0  filesrc location=/1.mkv ! matroskademux  ! queue !  h264parse ! mppvideodec ! kmssink

gst-launch-1.0 uridecodebin uri=file:///1.mkv  ! waylandsink

ffmpeg -i tears-of-steel_4k.mov -vcodec copy -bsf:v h264_mp4toannexb -an 2.h264 
ffmpeg -i paonan1.mp4 -c:v copy -bsf hevc_mp4toannexb paonan1.hevc

gst-launch-1.0  filesrc location=/media/chen/3A32192873ECFA46/tears-of-steel_4k.zip/2.h264 ! video/x-h264 ! h264parse \
! vaapidecode ! vaapisink

./mpi_dec_test -i ~/1.jpg -w 500 -h 179 -t 8 -o lotus_3288.yuv
 identify -verbose file.jpg | grep Interlace
 
 
gst-launch-1.0 -v filesrc location=lotus_3288.yuv ! \
    videoparse width=500 height=179 framerate=25/1 format=GST_VIDEO_FORMAT_NV12 ! \
     imagefreeze ! videoconvert ! \
    ximagesink


mediainfo 2.jpg
convert image.jpg -profile sRGB.icc rgb_image.jpg

//kms
gst-launch-1.0  filesrc location=2.mjpeg ! \
image/jpeg,width=1920,height=1080,framerate=30/1 ! decodebin !  videoconvert ! vaapisink

 fpsdisplaysink video-sink=kmssink signal-fps-measurements=true text-overlay=false --gst-debug=fpsdisplaysink:6

//jpeg
gst-launch-1.0  filesrc location=2.mjpeg  ! multipartdemux !  jpegdec !  videoconvert ! vaapisink

gst-launch-1.0 -v videotestsrc  ! "video/x-raw,width=1920,height=1080"  ! queue ! jpegenc ! queue ! jpegparse ! queue ! mppvideodec ! kmssink 

// rga

gst-launch-1.0 -v videotestsrc  ! "video/x-raw,format=NV12, width=1080,height=720,framerate=30/1"  ! v4l2video0convert ! fpsdisplaysink video-sink=kmssink signal-fps-measurements=true text-overlay=false --gst-debug=fpsdisplaysink:6

gst-launch-1.0 -v videotestsrc  ! "video/x-raw,format=BGRA, width=1920,height=1080,framerate=30/1"  ! \
v4l2video0convert output-io-mode=dmabuf capture-io-mode=dmabuf ! \
"video/x-raw,format=NV12, width=640,height=720,framerate=30/1, pixel-aspect-ratio=8/9"  ! kmssink --gst-debug=*:2

gst-launch-1.0  filesrc location=/usr/local/test.mp4 ! qtdemux ! queue ! h264parse ! mppvideodec  ! queue ! \
v4l2video0convert output-io-mode=dmabuf capture-io-mode=dmabuf ! \
"video/x-raw,format=NV12, width=640,height=720,pixel-aspect-ratio=8/9"  ! kmssink --gst-debug=*:2

//camera
DISPLAY=:0.0 su linaro -c "gst-launch-1.0 v4l2src device=/dev/video0 ! \
video/x-raw,format=YV12,width=960,height=544,framerate=30/1 ! queue ! videoconvert ! queue ! xvimagesink"

// system

rm -rf ~/.cache/gstreamer-1.0/registry.arm.bin  && rm -rf /home/linaro/.cache/gstreamer-1.0/registry.arm.bin


export DISPLAY=:0.0
export GST_DEBUG=*:5
export QT_QPA_PLATFORM=wayland-egl
export XDG_RUNTIME_DIR=/run/user/0
export WAYLAND_DISPLAY=wayland-0
